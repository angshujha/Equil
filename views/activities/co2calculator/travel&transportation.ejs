<% pageCSS = ["travel&transportation"]; %>

<div class="app-container">

  <header class="app-header">
    <a href="/calculator/start"><div class="back-arrow">â†</div></a>
    <h1>Travel and Transportation</h1>
  </header>

  <div class="progress-dots">
    <span class="dot active"></span>
    <span class="dot"></span>
    <span class="dot"></span>
    <span class="dot"></span>
  </div>

  <!-- â­ FORM ADDED HERE â­ -->
  <form action="/calculator/travel" method="POST">
    <main class="content">

      <img src="/images/travel&transportation.png" class="hero-image">

      <h2>Travel & Transportation</h2>
      <p>Understand your carbon footprint from daily commutes and long-distance travel.</p>

      <div class="input-section">

        <!-- Weekly Driving (car) -->
        <label>Weekly Driving Distance (km)</label>
        <div class="slider-group">
          <input type="range" min="0" max="100" value="50" id="drivingRange" name="carKm">
          <span id="drivingValue">50</span>
        </div>

        <!-- Vehicle Type -->
        <label>Primary Vehicle Type</label>
        <select id="vehicleType" class="select-box" name="vehicleType">
          <option value="" disabled selected>Select</option>
          <option value="petrol">â›½ Petrol / Gasoline</option>
          <option value="hybrid">âš¡ Hybrid</option>
          <option value="electric">ğŸ”‹ Electric</option>
          <option value="diesel">ğŸ›¢ï¸ Diesel</option>
        </select>

        <!-- Flights -->
        <div class="flight-section">
          <label>Flights Per Year</label>
          <div class="counter">
            <button type="button" id="flightMinus">âˆ’</button>
            <span id="flightCount">2</span>
            <!-- Hidden input for flights -->
            <input type="hidden" name="flightHours" id="flightHidden" value="2">
            <button type="button" id="flightPlus">+</button>
          </div>
        </div>

        <!-- Public Transport -->
        <label>Weekly Public Transport (km)</label>
        <div class="slider-group">
          <input type="range" min="0" max="100" value="20" id="transportRange" name="busKm">
          <span id="transportValue">20</span>
        </div>

      </div>

      <!-- â­ THIS NOW SUBMITS FORM â­ -->
      <button type="submit" class="next-btn">Next</button>

    </main>
  </form>

</div>

<script>
  // Theme + slider + counter script (unchanged)

  // Update hidden flights input when user clicks +/âˆ’
  const flightCount = document.getElementById("flightCount");
  const flightHidden = document.getElementById("flightHidden");

  const plus = document.getElementById("flightPlus");
  const minus = document.getElementById("flightMinus");

  let count = 2;

  plus.addEventListener("click", () => {
    count++;
    flightCount.textContent = count;
    flightHidden.value = count;
  });

  minus.addEventListener("click", () => {
    if (count > 0) count--;
    flightCount.textContent = count;
    flightHidden.value = count;
  });
</script>
